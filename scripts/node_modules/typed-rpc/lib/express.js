"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.rpcHandler = void 0;
const server_1 = require("./server");
function rpcHandler(serviceOrFactory) {
    const handler = (req, res, next) => {
        const service = typeof serviceOrFactory === "function"
            ? serviceOrFactory(req)
            : serviceOrFactory;
        (0, server_1.handleRpc)(req.body, service)
            .then((result) => res.json(result))
            .catch(next);
    };
    return handler;
}
exports.rpcHandler = rpcHandler;
//# sourceMappingURL=express.js.map